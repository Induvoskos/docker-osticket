From 8eb89d2d818d1310a8d2967d38bcc2ddd0983fcc Mon Sep 17 00:00:00 2001
From: Perry Kollmorgen <pcjkollmorgen@hotmail.com>
Date: Wed, 4 Oct 2017 23:25:15 +1000
Subject: [PATCH] Mod to allow any agent the ability to un-assign themselves
 from a ticket.

See https://github.com/osTicket/osTicket/issues/4152.

---
 include/staff/ticket-view.inc.php | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

diff --git a/include/staff/ticket-view.inc.php b/include/staff/ticket-view.inc.php
index 21d6cf62b..0992ac358 100644
--- a/include/staff/ticket-view.inc.php
+++ b/include/staff/ticket-view.inc.php
@@ -145,13 +145,17 @@ class="icon-group"></i> <?php echo __('Team'); ?></a>
                 <?php
                  }

-                 if($ticket->isOpen() && ($dept && $dept->isManager($thisstaff))) {
+                 if($ticket->isOpen() && ($dept)) {

-                    if($ticket->isAssigned()) { ?>
+		     if($ticket->isAssigned()) { ?>
                         <li><a  class="confirm-action" id="ticket-release" href="#release"><i class="icon-user"></i> <?php
                             echo __('Release (unassign) Ticket'); ?></a></li>
                     <?php
                     }
+                 }
+
+
+                 if($ticket->isOpen() && ($dept && $dept->isManager($thisstaff) || $thisstaff->isAdmin())) {

                     if(!$ticket->isOverdue()) { ?>
                         <li><a class="confirm-action" id="ticket-overdue" href="#overdue"><i class="icon-bell"></i> <?php
